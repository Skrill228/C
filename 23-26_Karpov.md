# Глава 23: Электронная почта

## 23.1. Основы

### Значение электронной почты
- Электронная почта играет важную роль в бизнесе.
- Основные требования – стабильность и масштабируемость.

### Ключевые аспекты надежной почтовой системы
- Простота и четкая документация архитектуры.
- Использование стандартов и открытых протоколов.
- Интеграция с системой управления адресами.
- Обеспечение безопасности и конфиденциальности.

## 23.1.1. Политика конфиденциальности

### Значимость политики
- Политика должна регламентировать, кто имеет доступ к почте пользователя и в каких случаях.
- Администраторы могут проверять почту при диагностике, но это должно быть прописано.
- Необходимо уведомить, что переписка через Интернет не является абсолютно защищённой.

### Разные подходы к конфиденциальности
- Некоторые компании не считают служебную почту личной.
- Другие разрешают личное использование, но с определёнными ограничениями.
- Системные администраторы обязаны следить за выполнением политики и информировать пользователей.

## 23.1.2. Управление адресами

### Единый адрес для почты
- Упрощение взаимодействия с одним адресом для внутренних и внешних сообщений.
- Формат «имя.фамилия» часто используется, но может привести к совпадениям.

### Уникальные идентификаторы
- Предпочтение уникальных меток (например, jdoe, asmith).
- Наличие справочной службы для поиска адресов.
- Идентификаторы должны быть стабильными и не использоваться повторно в течение определенного времени.

## 23.1.3. Надежность

### Почему важна надежность
- Пользователи ожидают постоянного доступа к почте.
- Перебои в работе почты вызывают стресс и поток жалоб.

### Проектирование надежной системы
- Простая и понятная структура.
- Надежное оборудование и софт.
- Использование RAID для хранения данных.
- Резервное оборудование для быстрой замены.

### Потери из-за сбоев
- Пропущенные письма могут привести к репутационным и финансовым потерям.
- Пример — избыточность в энергетике и телефонии.

## 23.1.6. Универсальность

### Использование стандартных протоколов
- Почтовая система должна быть совместима благодаря открытым стандартам.
- SMTP – основной протокол для отправки писем.

### Поддержка почтовых клиентов
- Поддержка 1-2 популярных клиентских протоколов.
- Максимальная совместимость через стандартные протоколы.
- Использование собственного протокола может ограничивать выбор клиентов.

## 23.1.7. Автоматизация

### Задачи для автоматизации
- Оптимизация рутинных операций.
- Автоматическое создание и удаление учетных записей.
- Перенос учетных записей между серверами для балансировки нагрузки.
- Администрирование списков рассылки через автоматизацию.

### Проверки и обновления
- Удаление бывших сотрудников из всех рассылок.
- Регулярная проверка актуальности учетных записей.
- Контроль за внутренними списками рассылки.

## 23.1.8. Мониторинг

### Основные элементы мониторинга
- Проверка доступности серверов и их сетевых соединений.
- Контроль загрузки процессоров, дисков и пространства на серверах.
- Чтение сообщений для postmaster для отслеживания ошибок.
- Анализ логов почтовых серверов для выявления проблем с доставкой.

## 23.1.9. Резервирование

### Обеспечение избыточности
- Почтовые системы должны быть устойчивы к сбоям.
- Подготовка резервных планов в случае аварий.
- Использование DNS MX-записей для резервных маршрутов доставки.

### Резервное хранение данных
- Внедрение RAID и других технологий для надежности хранения.
- Дублирование серверов с общим доступом к данным через SAN.

### Клиентская избыточность
- Реализация механизмов IP-резервирования для восстановления работы.
- Использование балансировки нагрузки и других технологий распределения.

### Стратегия резервирования
- Анализ всех компонентов системы и их взаимосвязей.
- Определение влияния сбоев на работу всей системы.

## 23.1.11. Безопасность

### Уязвимости и защита
- Серверы, взаимодействующие с внешними системами, подвержены атакам.
- Уязвимости могут стать точками проникновения злоумышленников.
- Безопасность должна быть заложена на этапе проектирования.

### Борьба с нежелательным контентом
- Вирусы и спам могут проникнуть через почту.
- Антивирусная проверка сообщений с учётом конфиденциальности.
- Обеспечение поддержки различных форматов файлов для проверки.

### Защищённая архитектура
- Почтовая система должна интегрироваться с общей системой безопасности компании.
- Использование брандмауэров и других средств защиты.
- Ограничение передачи подозрительных сообщений.

## 23.2.3. Расширенный мониторинг

### Сквозное тестирование
- Использование тестовых сценариев для проверки работы всей системы.
- Эмуляция реальной отправки писем для выявления проблем.
- Мониторинг критически важных транзакций.

## 23.2.4. Обработка больших списков

### Важность списков рассылки
- Рассылки помогают информировать клиентов о продуктах и событиях.
- Надежная работа списков критически важна для бизнеса.

### Управление рассылками
- Возможность пользователям самостоятельно создавать и удалять списки.
- Мониторинг эффективности и корректности использования списков.

### Масштабирование больших списков
- Инвестирование в специализированное ПО для управления большими объемами.
- Использование нескольких резервных систем для предотвращения сбоев.

### Скорость доставки
- Время отправки должно быть минимальным для всех получателей.
- Важно избежать задержек при доставке сообщений.

## 23.3. Итоги

### Значение почтовой системы
- Почта является важнейшей инфраструктурой, как вода или электричество.
- Вопросы безопасности, масштабируемости и мониторинга нельзя игнорировать.

### Политика и защита данных
- Политика управления адресами и конфиденциальности должна быть четко определена.
- Некоторые компании внедряют шифрование для дополнительной защиты.

### Особенности мониторинга и управления
- Компании, зависящие от почты, должны реализовать углубленный мониторинг.
- Для больших рассылок важно учитывать особенности масштабирования и обслуживания.

# Глава 24: Организация печати

## 24.1. Основные аспекты

### Почему печать важна
- Печать остается важной бизнес-функцией, поскольку многие процессы до сих пор требуют документов на бумаге.
- Это одна из ключевых услуг, востребованных пользователями.

### Основные составляющие эффективной системы печати
- Успех системы печати зависит от понимания её требований и грамотного проектирования.
- Без чётких правил и политики проектирование будет неэффективным.

## 24.1.1. Уровень централизации

### Идеальная система печати
- Некоторые пользователи предпочитают личные принтеры, что удобно, но затратно.
- Другие хотят гибкости, чтобы можно было печатать с любого устройства на любом принтере.
- Финансовые отделы часто выступают за централизованную печать для снижения затрат.
- Баланс между затратами и удобством — ключевой момент.

### Примерная схема размещения принтеров
- Оптимально — один принтер на участок здания (например, этаж или коридор).
- Индивидуальные принтеры выдаются при необходимости, например, из-за конфиденциальности или специфики работы.

## 24.1.2. Политика в области печати

### Разработка письменных правил
- Каждой компании важно иметь четко прописанную политику, связанную с печатью.
- В ней описывается уровень централизации, количество пользователей на один принтер и способ подключения оборудования к сети.

### Буферизация печати
- Сетевые принтеры требуют использования системы для буферизации.
- Такая система принимает задания, хранит их, контролирует доступ и перенаправляет задачи при неисправности оборудования.

### Резервирование
- Политика должна учитывать необходимость резервных решений.
- Например, горячая замена или запасные серверы для буферизации печати.

### Обслуживание и финансовые вопросы
- Важно определить, кто отвечает за обслуживание: собственный персонал или подрядчики.
- Расходы на обслуживание и материалы могут быть спорным моментом, особенно если принтеры не закреплены за отдельными подразделениями.
- Например, в университетах часто внедряют оплату за каждую страницу.

## 24.2. Детали реализации

### 24.2.1. Автоматизация восстановления и балансировка нагрузки
- Важна система автоматического восстановления для минимизации простоев.
- Балансировка нагрузки позволяет перераспределять задачи между узлами при больших объёмах печати.

### 24.2.2. Персонал для обслуживания
- Принтеры нуждаются в регулярном техническом уходе.
- Назначение ответственного сотрудника или группы помогает снизить вероятность поломок.

### 24.2.3. Уничтожение конфиденциальных документов
- Необходимость уничтожать распечатанные документы, содержащие личные или деликатные данные.
- Лучше организовать процесс внутри компании, назначив ответственного за уничтожение.

### 24.2.4. Предотвращение ненадлежащего использования
- Контроль использования принтеров, например, внедрение постраничной оплаты.
- Установка принтеров в местах общего доступа для повышения прозрачности.

## 24.3. Итоги
- Печать — критически важная услуга, от которой пользователи ожидают бесперебойной работы.
- Для надёжности системы важны четко прописанные правила, резервирование и мониторинг.
- Обучение пользователей и создание удобной документации помогают повысить эффективность использования принтеров.

# Глава 25: Системы хранения данных

## 25.1. Основы хранения

### Роль хранения данных
- Хотя стоимость хранения данных снижается, расходы на управление растут.
- Доступ к данным должен быть организован так, чтобы удовлетворять потребности пользователей в объёме, скорости и надёжности.

### Организация систем хранения
- Хранение данных — это общий ресурс, которым нужно грамотно управлять.
- За системами хранения должна следить специализированная команда, которая отвечает за производительность, устранение сбоев и внедрение новых технологий.

## 25.1.1. Основные понятия

### Устройство хранения
- Диск состоит из пластин, которые вращаются на шпинделе. Данные записываются на дорожки, разделённые на блоки.
- Управление устройством осуществляется контроллером диска, который связывается с сервером через адаптер главной шины (HBA).

### RAID (Избыточный массив независимых дисков)
- Используется для повышения надёжности, производительности или ёмкости системы хранения.

#### Уровни RAID
- **RAID 0**: Высокая скорость, низкая надёжность.
- **RAID 1**: Высокая надёжность за счёт зеркалирования.
- **RAID 5**: Баланс между производительностью и надёжностью.
- **RAID 10**: Сочетание зеркалирования и распределения данных.

### Логические тома
- Том — это логическая единица хранения, видимая серверу. Он может состоять из одного или нескольких физических дисков.

## 25.1.2. Стандарты и повторное использование
- Разработка стандартов для систем хранения упрощает их поддержку и обслуживание.
- Повторное использование старых дисков (например, для временных данных или резервного копирования) может быть экономически выгодным.

## 25.1.3. Системы хранения как услуга

### SLA для хранения данных
- Услуга хранения должна включать соглашения о качестве обслуживания (SLA), где отражены доступность, производительность и время на устранение неполадок.

### Мониторинг
- Регулярное отслеживание состояния систем хранения (свободное пространство, производительность) — залог стабильной работы.

## 25.1.4. Оптимизация производительности

### Роль RAID
- Разные уровни RAID предоставляют различные компромиссы между скоростью и надёжностью.
- Например, RAID 0 подходит для быстродействия, но не обеспечивает защиту данных.

## 25.2. Продвинутые аспекты

### Оптимизация RAID
- Подбор уровня RAID в зависимости от типа данных и приложения позволяет улучшить производительность и надёжность.

### Непрерывная защита данных (CDP)
- CDP позволяет восстановить данные до любой точки во времени, снижая риски потерь.

## 25.3. Заключение
- Хранение данных требует балансировки между надёжностью, производительностью и стоимостью.
- Важно развивать стандарты, внедрять мониторинг и грамотно управлять ресурсами.

# Глава 26: Резервное копирование и восстановление

## Важность резервного копирования и восстановления
- Резервное копирование неудобно и дорого, но оно необходимо для защиты данных.
- Данные могут быть утеряны из-за поломки оборудования, случайного или умышленного удаления.
- Восстановление данных – критически важный элемент любой системы.

## Основные термины
- **Полное резервное копирование**: создание копии всех файлов раздела.
- **Инкрементальное резервное копирование**: создание копии только тех файлов, которые были изменены с момента последнего резервного копирования.

---

## 26.1. Основы

### Создание системы резервного копирования и восстановления
1. Начать с определения конечного результата и шагов для его достижения.
2. **Корпоративные инструкции**: определяют минимальные и рекомендуемые требования к восстановлению данных.
3. **SLA**: устанавливает конкретные требования для мест и приложений, основанные на корпоративных стандартах.
4. **Политика**: документирует выполнение SLA в доступных пользователям терминах.
5. **Процедура**: описывает конкретные шаги для реализации политики.
6. **График**: определяет, когда и какие данные подлежат резервному копированию.

---

### Причины восстановления данных
1. **Случайное удаление файлов**: пользователь по ошибке удалил файл и хочет его восстановить.
2. **Сбой диска**: необходимо восстановить данные с вышедшего из строя диска.
3. **Просмотр архивных данных**: для юридических, финансовых или аварийных целей.

---

### Типы восстановления
- **Файлы**: пользователи восстанавливают отдельные файлы после удаления.
- **Архивы**: юридические или финансовые отделы для аудита или отчетности.
- **Системные данные**: восстановление после сбоев дисков для обеспечения работоспособности.

---

### Корпоративные инструкции
- Устанавливают минимальные и рекомендуемые требования к системам восстановления.
- Включают планы хранения данных, временные рамки резервного копирования и SLA.
- Указывают, какие данные, как часто и на сколько долго должны храниться.

---

### SLA и политика восстановления данных
- SLA определяет скорость и качество восстановления данных.
- Пример SLA: восстановление файлов за один рабочий день, восстановление системы за 4 часа, долговременное хранение архивов.

---

### График резервного копирования
- **Полное резервное копирование**: занимает больше времени, выполняется, например, раз в неделю.
- **Инкрементальное резервное копирование**: быстрее, выполняется ежедневно.
- Пример: полное копирование по пятницам, инкрементальное – с воскресенья по четверг.

---

### Централизация
- Централизованная система снижает затраты на оборудование и труд.
- Используются сетевые системы резервного копирования с автоматической заменой лент.

---

### Инвентаризация лент
- Ведение актуального каталога всех резервных копий.
- Позволяет ускорить восстановление данных.
- Система должна отслеживать частоту использования и перезаписи лент.

---

## 26.2. Тонкости

### Пробное восстановление
- Регулярная проверка резервных копий для обеспечения их работоспособности.
- Тестирование восстановления отдельных файлов и полных систем.
- Пробное восстановление проводится при установке нового оборудования.
- Проверка включает внутренние и внешние резервные копии.
- Независимый сотрудник должен проверять правильность восстановленных данных.

---

### Базы данных высокой доступности
- Для надежности базы данных используются технологии RAID.
- **Зеркалирование**: резервные копии хранятся на нескольких дисках.
- Три копии базы данных: активная и две резервные.

---

### Изменения технологий
- Диски и ленты развиваются с разными темпами.
- Емкость лент растет быстрее, чем емкость дисков.
- Системные администраторы должны адаптироваться к изменениям технологий.

---

## 26.3. Заключение
- Резервное копирование – это основа для восстановления данных.
- Три типа восстановления: файлы, архивы и системы.
- Современные системы должны быть централизованными, автоматизированными и с хорошей инвентаризацией.
- Регулярные тестирования и обновления помогают адаптироваться к технологическим изменениям.
- Важность внешнего хранения резервных копий для обеспечения безопасности данных.
